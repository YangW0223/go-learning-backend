# Week 06：SQL 工程化

## 本周目标

在 `sqlc` 与 `GORM` 中选一种，完成数据访问层工程化。

## 详细步骤

1. 先写对比结论：类型安全、学习成本、调试难度、维护成本。
2. 选择方案：`sqlc`（推荐）或 `GORM`。
3. 接入所选工具并替换现有数据访问实现。
4. 补齐关键查询/写入路径测试。
5. 记录生成代码或 ORM 模型的目录规范。
6. 输出“为什么选它”的决策文档。

## 建议实践清单

- `sqlc` 路线：先稳定 SQL，再生成代码。
- `GORM` 路线：限制魔法行为，明确表结构映射。
- 两种路线都要保证错误处理可观测。

## 验收清单

- [ ] 已完成方案选型并有书面理由。
- [ ] 数据层已切换到所选工具。
- [ ] 核心场景测试通过。
- [ ] 能陈述该方案的优缺点。

## 产出物

- 选型决策记录。
- 工具接入后的数据层代码。
- 测试结果记录。

## 常见风险与排查

- 只关注开发速度忽略可维护性：用 3 个月维护视角复核。
- 生成代码未纳入流程：在 CI 加入一致性检查。
