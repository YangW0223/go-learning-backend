# Week 02：HTTP 与 JSON

## 本周目标

掌握 `net/http` 请求处理流程，并完善 Todo 删除接口。

## 详细步骤

1. 梳理请求路径：路由匹配 -> 参数解析 -> 业务逻辑 -> JSON 响应。
2. 明确接口错误分类：参数错误（400）、资源不存在（404）、服务内部错误（500）。
3. 实现 `DELETE /api/v1/todos/{id}`。
4. 为删除接口补齐成功与失败分支。
5. 编写至少 3 个接口测试：成功删除、ID 不存在、ID 非法。
6. 输出一份接口行为说明（输入、输出、错误码）。

## 建议实践清单

- 统一 JSON 响应结构（如 `{"data":...,"error":...}`）。
- 保证 `Content-Type: application/json` 一致。
- 参数解析失败时返回可读错误信息。

## 验收清单

- [ ] `DELETE /api/v1/todos/{id}` 可用。
- [ ] 400/404/500 分支行为明确。
- [ ] 至少 3 个接口测试可稳定通过。
- [ ] 文档补齐删除接口描述。

## 产出物

- 删除接口代码与测试。
- 错误码处理规范文档。

## 常见风险与排查

- 路径参数解析不稳定：先对路径分割写单测。
- 业务错误和系统错误混淆：在 service 层定义可判定错误类型。
