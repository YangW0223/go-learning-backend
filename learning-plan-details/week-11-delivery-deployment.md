# Week 11：交付与部署

## 本周目标

实现可部署、可回滚的最小交付链路。

## 详细步骤

1. 编写 `Dockerfile`，支持构建并运行服务。
2. 使用环境变量管理配置（端口、数据库、JWT 密钥等）。
3. 配置 CI：至少包含格式检查、测试、构建。
4. 在本地执行容器启动并验证健康检查。
5. 设计一个最小回滚策略（上一版本镜像可快速恢复）。
6. 输出部署说明文档（启动参数、环境变量、故障排查）。

## 建议实践清单

- 使用多阶段构建减小镜像体积。
- CI 失败必须阻止主分支合并。
- 配置与代码解耦，禁止硬编码敏感信息。

## 验收清单

- [ ] 可通过容器启动服务。
- [ ] CI 自动执行测试并可见结果。
- [ ] 有明确的回滚方案。

## 产出物

- `Dockerfile` 与 CI 配置。
- 部署与回滚文档。

## 常见风险与排查

- 本地能跑容器里不能跑：检查工作目录和环境变量注入。
- CI 与本地行为不一致：统一 Go 版本和构建命令。
