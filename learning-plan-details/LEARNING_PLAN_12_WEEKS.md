# 14 周 Go 后端学习计划（每周 8-10 小时）

## Week 1: Go 语言基础

- 目标: 能独立写出函数、结构体、接口、错误处理。
- 任务:
  - 学习: 变量、切片、map、struct、interface、error。
  - 练习: 用 Go 重写 2 个你熟悉的 JS 小工具函数。
  - 项目: 跑通本项目，理解目录结构。
- 验收:
  - 你能解释 `cmd`、`internal` 的作用。
  - 能独立新增一个 `GET /ping` 接口。

## Week 2: HTTP 与 JSON

- 目标: 掌握 `net/http` 的请求处理流程。
- 任务:
  - 学习: 路由、请求解析、JSON 编解码、状态码。
  - 项目: 给 Todo 增加 `DELETE /api/v1/todos/{id}`。
- 验收:
  - 能正确处理 400/404/500。
  - 能写 3 个接口测试用例。

## Week 3: 并发与 context

- 目标: 理解 goroutine/channel/context。
- 任务:
  - 学习: goroutine、channel、select、mutex、context。
  - 项目: 给列表接口增加超时控制（context deadline）。
- 验收:
  - 能说明何时用 mutex，何时用 channel。

## Week 4: 重构与分层

- 目标: 形成 handler/service/store 分层意识。
- 任务:
  - 学习: 接口抽象、依赖注入。
  - 项目: 从“直接在 handler 里处理逻辑”重构到 service 层。
- 验收:
  - 单测覆盖 service 关键路径。

## Week 5: PostgreSQL 入门

- 目标: 从内存存储切换到数据库。
- 任务:
  - 学习: 表设计、索引、事务基础。
  - 项目:
    - 新建 `todos` 表。
    - 实现 `Create/List/MarkDone` 的 DB 版本。
- 验收:
  - 能解释事务边界。
  - 能写出分页 SQL。

## Week 6: SQL 工程化

- 目标: 掌握 SQL 与代码生成/ORM 的取舍。
- 任务:
  - 二选一: `sqlc`（推荐）或 `GORM`。
  - 项目: 接入所选工具并替换手写 SQL（或补全 ORM 层）。
- 验收:
  - 能描述该方案的优缺点。

## Week 7: 认证与鉴权

- 目标: 实现登录与权限控制。
- 任务:
  - 学习: JWT、密码哈希（bcrypt）、中间件。
  - 项目:
    - 实现注册/登录。
    - Todo 接口需要鉴权。
- 验收:
  - 未登录访问返回 401。
  - 非法 token 返回 401。

## Week 8: 缓存与性能

- 目标: 建立后端性能意识。
- 任务:
  - 学习: Redis 基础、缓存策略、缓存击穿。
  - 项目: 为 Todo 列表增加缓存与失效策略。
- 验收:
  - 能解释 cache hit/miss 对延迟的影响。

## Week 9: 日志与可观测性

- 目标: 能定位线上问题。
- 任务:
  - 学习: 结构化日志、请求 ID、基础指标。
  - 项目: 接入日志组件，记录请求耗时与错误。
- 验收:
  - 能通过日志定位某次 500 错误。

## Week 10: 测试体系

- 目标: 建立可靠的回归保障。
- 任务:
  - 学习: 单测、表驱动测试、接口测试。
  - 项目:
    - 核心逻辑覆盖率达到 60%+。
    - 增加一组端到端 API 测试。
- 验收:
  - `go test ./...` 稳定通过。

## Week 11: 交付与部署

- 目标: 可部署、可回滚。
- 任务:
  - 学习: Docker、环境变量配置、CI。
  - 项目:
    - 写 `Dockerfile`。
    - 配置 CI 自动测试。
- 验收:
  - 可通过容器启动服务。

## Week 12: 总结与进阶

- 目标: 输出完整作品集。
- 任务:
  - 输出项目文档（架构、接口、部署）。
  - 做一次性能与代码复盘。
  - 规划下一阶段: 微服务、消息队列、DDD。
- 验收:
  - 你能把项目讲清楚，并演示核心链路。

## Week 13: API 治理与稳定性工程

- 目标: 建立生产化 API 契约与服务稳定性能力。
- 任务:
  - 学习: OpenAPI、错误码规范、幂等、限流、优雅停机。
  - 项目:
    - 输出统一响应结构与错误码文档。
    - 给至少 1 个写接口加入幂等机制（如 `Idempotency-Key`）。
    - 为服务补齐限流与优雅停机能力。
- 验收:
  - 核心接口有可用的 OpenAPI 文档。
  - 限流触发时返回 429。
  - 服务支持优雅停机并有验证记录。

## Week 14: 可观测性进阶与异步任务

- 目标: 建立日志/指标/链路追踪闭环，并落地可恢复的异步任务机制。
- 任务:
  - 学习: OpenTelemetry、SLI/SLO、告警策略、任务重试与补偿。
  - 项目:
    - 为核心链路接入 Trace。
    - 定义最小 SLI/SLO 与告警阈值。
    - 实现一个异步任务并支持失败重试。
- 验收:
  - 能通过 Trace + 日志定位一次故障。
  - 至少 1 个异步任务具备重试与失败追踪。
  - 有一份全链路排障复盘记录。

## 每周固定节奏（建议）

- 2 小时: 理论学习
- 4 小时: 项目编码
- 2 小时: 测试与复盘
- 1-2 小时: 总结与文档
